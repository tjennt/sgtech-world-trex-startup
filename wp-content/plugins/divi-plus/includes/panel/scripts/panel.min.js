jQuery(document).ready(function(e){e(".el-settings-panel-mainmenu-tab span").on("click",function(){if(e(this).parent(".el-settings-panel-mainmenu-tab").hasClass("el-settings-panel-active-tab"))return!1;e(".el-settings-panel-mainmenu-tab").removeClass("el-settings-panel-active-tab"),e(this).parent(".el-settings-panel-mainmenu-tab").addClass("el-settings-panel-active-tab");var t=e(this).attr("data-href");e(".el-settings-panel-group").removeClass("el-settings-panel-active-group"),e(t).addClass("el-settings-panel-active-group")}),e(".el-settings-panel-submenu-tab span").on("click",function(){if(e(this).parent(".el-settings-panel-submenu-tab").hasClass("el-settings-panel-active-tab"))return!1;e(this).parents(".el-settings-panel-group").find(".el-settings-panel-submenu-tab").removeClass("el-settings-panel-active-tab"),e(this).parent(".el-settings-panel-submenu-tab").addClass("el-settings-panel-active-tab");var t=e(this).attr("data-href");e(this).parents(".el-settings-panel-group").find(".el-settings-panel-section").removeClass("el-settings-panel-active-section"),e(t).addClass("el-settings-panel-active-section")}),e("body").on("click",".el-settings-panel-toggle-field",function(){!0==e(this).prop("checked")?e(this).val("on"):e(this).val("off")}),e("body").on("input",".el-settings-panel-range-slider-field",function(){e(this).next(".el-settings-panel-range-slider-field-value").html(e(this).val())});let t=!1;e("#el-settings-panel-general-general-section .el-settings-panel-multiple-checkboxes .el-settings-panel-checkbox-field").each(function(){"all"===e(this).val()||e(this).prop("checked")||(t=!0)}),t||(e(".el-settings-panel-multiple-checkboxes #all").prop("checked",!0),e(".el-settings-panel-multiple-checkboxes #all").next("label").text("Deselect All")),e(".el-settings-panel-multiple-checkboxes #all").on("click",function(){let t=e(this);t.prop("checked")?(t.closest(".el-settings-panel-multiple-checkboxes").find(".el-settings-panel-checkbox-field").prop("checked",!0),t.next("label").text("Deselect All")):(t.closest(".el-settings-panel-multiple-checkboxes").find(".el-settings-panel-checkbox-field").prop("checked",!1),t.next("label").text("Select All"))}),e("body").on("click",".el-settings-panel-checkbox-field",function(){var t=[];e(this).closest(".el-settings-panel-multiple-checkboxes").find(".el-settings-panel-checkbox-field:checked").each(function(){"all"!==e(this).val()&&t.push(e(this).val())}),e(this).closest(".el-settings-panel-multiple-checkboxes").find(".el-settings-panel-value-field").val(t)}),e(".el-dependency-control").each(function(){var t=e(this).attr("data-dependent").split(",");!0==e(this).prop("checked")?e.each(t,function(n){var a=1,i=e("#"+t[n]).attr("data-depends-on").split(",");e.each(i,function(t){!1==e("#"+i[t]).prop("checked")&&(a=0)}),1==a&&e("#"+t[n]).parents("tr").css("display","block")}):e.each(t,function(n){e("#"+t[n]).parents("tr").css("display","none")})}),e("body").on("click",".el-dependency-control",function(){var t=e(this).attr("data-dependent").split(",");!0==e(this).prop("checked")?e.each(t,function(n){var a=1,i=e("#"+t[n]).attr("data-depends-on").split(",");e.each(i,function(t){!1==e("#"+i[t]).prop("checked")&&(a=0)}),1==a&&e("#"+t[n]).parents("tr").slideDown(300)}):e.each(t,function(n){e("#"+t[n]).parents("tr").slideUp(300)})}),e("body").on("click",".el-setting-help",function(){e(this).parent("div").find("label").length>0?e(".info-section h3").text(e(this).parent("div").find("label").text()):e(".info-section h3").text(e(this).parents("tr").find("th").text()),e(".info-section p").html(e(this).next(".el-setting-info").html()),e(".info-section").addClass("active")}),e("body").on("click",".info-section .close-info",function(){e(this).parents(".info-section").removeClass("active")}),e("body").on("click",".add-row",function(){var t=e(this),n=t.parents(".el-settings-panel-repeater");!t.parents(".repeater-controls").find(".remove-row").length>0&&t.parents(".repeater-controls").prepend('<span class="remove-row row-control">-</span>'),n.find(".row-counter").val(Number(n.find(".row-counter").val())+1);var a=JSON.parse(n.find(".el-settings-panel-repeater-value").val());a.counter=n.find(".row-counter").val(),n.find(".el-settings-panel-repeater-value").val(JSON.stringify(a));var i=n.find(".repeater-field-rows").find(".repeater-field-row:first-child").clone();s(i,function(e){l(e,n.find(".row-counter").val())}),i.hide(),i.find(".repeater-controls").hide(),i.insertAfter(t.parents(".repeater-field-row")).slideDown(300,function(){i.find(".repeater-controls").show()})}),e(".el-settings-panel-repeater").parents("tr").find("th").css({"vertical-align":"top","padding-top":"15px"}),e(".el-settings-panel-fieldset").parents("tr").find("th").css({"vertical-align":"top","padding-top":"15px"}),e(".el-settings-panel-multiple-checkboxes").parents("tr").find("th").css({"vertical-align":"top","padding-top":"15px"}),e("body").on("click",".repeater-controls .remove-row",function(){var t=e(this),n=t.parents(".el-settings-panel-repeater");if(t.parent(".repeater-controls").hide(),n.find(".repeater-field-row").length<=2){n.find(".row-counter").val(Number(n.find(".row-counter").val())-1);var a=n.find(".el-settings-panel-repeater-value").val(),i=JSON.parse(a);i.counter=n.find(".row-counter").val(),n.find(".el-settings-panel-repeater-value").val(JSON.stringify(i)),t.parents(".repeater-field-row").slideUp(300,"linear",function(){e(this).remove(),n.find(".repeater-field-rows .repeater-field-row").each(function(t){s(e(this),function(e){l(e,t+1)})}),n.find(".repeater-field-row:last-child .remove-row").remove()})}else{n.find(".row-counter").val(Number(n.find(".row-counter").val())-1);var a=n.find(".el-settings-panel-repeater-value").val(),i=JSON.parse(a);i.counter=n.find(".row-counter").val(),n.find(".el-settings-panel-repeater-value").val(JSON.stringify(i)),t.parents(".repeater-field-row").slideUp(300,"linear",function(){e(this).remove(),n.find(".repeater-field-rows .repeater-field-row").each(function(t){s(e(this),function(e){l(e,t+1)})})})}}),e(".el-settings-panel-save-btn").on("click",function(){e("#el-settings-panel-ajax-saving").css("display","block");var t=[];e(".el-settings-panel-content").find(".el-settings-panel-field").each(function(){var n=e(this).find(".el-settings-panel-value-field"),a=n.attr("data-type"),i=n.attr("name"),s=n.val();t.push({type:a,name:i,value:s})}),e.ajax({type:"POST",url:el_dipl_panel_ajax_object.ajaxurl,data:{action:"dipl_panel_save_settings",nonce:el_dipl_panel_ajax_object.ajaxnonce,options:t},success:function(t){e("#el-settings-panel-ajax-saving").addClass("success-animation"),setTimeout(function(){e("#el-settings-panel-ajax-saving").css("display","none"),e("#el-settings-panel-ajax-saving").removeClass("success-animation")},1e3)},error:function(){alert("Oops!! Something went wrong!! Try later!")}})}),e(".el-settings-panel-reset-button").on("click",function(){e(this).parents(".el-settings-panel-field").find(".el-settings-panel-value-field").val("")});var n=getUriAttributes("menu");if(""!==n&&void 0!==n){var a=getUriAttributes("submenu");e(".el-settings-panel-mainmenu-tab span[data-href=#el-settings-panel-"+n+"-wrap]").trigger("click"),e(".el-settings-panel-submenu-tab span[data-href=#el-settings-panel-"+n+"-"+a+"-section]").trigger("click")}function i(e,t){return e.replace(/\d/g,t)}function s(t,n){n(t);var a=t.children();a.length>0&&a.each(function(){s(e(this),n)})}function l(e,t){void 0!==e.attr("id")&&e.attr("id",i(e.attr("id"),t)),void 0!==e.attr("name")&&e.attr("name",i(e.attr("name"),t)),void 0!==e.attr("for")&&e.attr("for",i(e.attr("for"),t))}function r(e){void 0!==e.attr("value")&&e.val("")}});function getUriAttributes(e){var t=decodeURIComponent(window.location.search.substring(1)).split("&"),n=[],a="";for(a=0;a<t.length;a++)if((n=t[a].split("="))[0]===e)return void 0===n[1]||n[1]}